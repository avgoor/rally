{% set flavor_name = "m1.rmq_test" %}
{% set image_name = image_name or "TestCirros-0.4.0" %}
{% set availability_zone = "nova" %}
{% set concurrency = 100 %}
{% set times = 1000 %}
{% set users = 3 %}
{% set tenants = 5 %}
{
  "NovaServers.boot_server_associate_and_dissociate_floating_ip": [
  {
    "args": {
      "flavor": {
        "name": "{{flavor_name}}"
      },
      "image": {
        "name": "{{image_name}}"
      },
      "auto_assign_nic": true,
      "availability_zone": "{{availability_zone}}"
    },
    "runner": {
      "type": "constant",
      "concurrency": {{concurrency}},
      "times": {{times}}
    },
    "context": {
      "network": {
        "start_cidr": "10.230.0.0/16",
        "networks_per_tenant": 5,
        "subnets_per_network": 5
      },
      "users": {
        "tenants": {{users}},
        "users_per_tenant": {{tenants}}
      },
      "quotas": {
        "nova": {
          "instances": -1,
          "cores": -1,
          "ram": -1,
          "key_pairs": -1,
          "security_groups": -1,
          "security_group_rules": -1
        },
        "neutron": {
          "network": -1,
          "port": -1,
          "subnet": -1,
          "router": -1,
          "floatingip": -1,
          "security_group": -1,
          "security_group_rule": -1
        }
      }
    },
    "sla": { "failure_rate": { "max": 0 } }
  }
  ]
}
